@import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@700&family=Source+Sans+3:wght@400;600;700&display=swap');

/* ---- VARIABILI ---- */
:root {
  --blu:      #1a2e4a;
  --blu-light: #2e4a6e;
  --rosso:    #8b2635;
  --oro:      #b5882a;
  --sfondo:   #f4f1eb;
  --bianco:   #ffffff;
  --grigio1:  #f9f7f3;
  --grigio2:  #ddd8cf;
  --grigio3:  #c5bfb4;
  --testo:    #1a1a1a;
  --testo2:   #4a5568;
  --testo3:   #8a97a8;
  --verde:    #276749;
  --raggio:   8px;
}

/* ---- RESET ---- */
*, *::before, *::after { box-sizing: border-box; }
body {
  margin: 0;
  font-family: 'Source Sans 3', sans-serif;
  font-size: 15px;
  line-height: 1.6;
  color: var(--testo);
  background-color: var(--sfondo);
  min-height: 100vh;
}

/* ---- TITOLI ---- */
h1, h2 { font-family: 'Libre Baskerville', serif; color: var(--blu); margin-top: 0; }
h1 { font-size: 1.6rem; }
h2 { font-size: 1.2rem; }
p  { color: var(--testo2); margin-top: 0; }
a  { color: var(--blu-light); font-weight: 600; }
a:hover { color: var(--rosso); }
hr { border: none; border-top: 1px solid var(--grigio2); margin: 20px 0; }

/* ---- LAYOUT PRINCIPALE ---- */
body:not(.body--login) > main {
  max-width: 940px;
  margin: 0 auto;
  padding: 28px 20px 60px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* ---- NAVBAR ---- */
.navbar {
  background: var(--blu);
  border-bottom: 3px solid var(--rosso);
  height: 58px;
  padding: 0 20px;
  display: flex;
  align-items: center;
  gap: 20px;
  position: sticky;
  top: 0;
  z-index: 99;
}
.navbar__brand  { display: flex; align-items: center; gap: 8px; text-decoration: none; }
.navbar__icon   { font-size: 1.2rem; }
.navbar__title  { font-family: 'Libre Baskerville', serif; font-size: .95rem; color: #fff; white-space: nowrap; }
.navbar__links  { list-style: none; margin: 0; padding: 0; display: flex; gap: 4px; flex: 1; }
.navbar__links a {
  padding: 6px 12px;
  border-radius: 5px;
  color: rgba(255,255,255,.70);
  font-size: .875rem;
  font-weight: 600;
  text-decoration: none;
  transition: background .15s, color .15s;
}
.navbar__links a:hover  { background: rgba(255,255,255,.10); color: #fff; }
.navbar__links a.active {
  background: rgba(255,255,255,.15);
  color: #fff;
  border-bottom: 2px solid var(--oro);
  border-radius: 5px 5px 0 0;
}
.navbar__user     { display: flex; align-items: center; gap: 10px; margin-left: auto; }
.navbar__username { color: rgba(255,255,255,.75); font-size: .85rem; }
.navbar__badge {
  padding: 2px 8px;
  border-radius: 99px;
  font-size: .7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .5px;
}
.navbar__badge--admin   { background: rgba(181,136,42,.30); color: #e8c96a; border: 1px solid rgba(181,136,42,.5); }
.navbar__badge--student { background: rgba(255,255,255,.12); color: rgba(255,255,255,.85); border: 1px solid rgba(255,255,255,.2); }

/* ---- PAGE HEADER ---- */
.page-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
  padding-bottom: 16px;
  border-bottom: 2px solid var(--grigio2);
}
.page-header h1 { margin-bottom: 2px; }
.page-header p  { margin: 0; font-size: .875rem; }

/* ---- BREADCRUMB ---- */
.breadcrumb a { color: var(--testo2); text-decoration: none; font-size: .875rem; font-weight: 600; }
.breadcrumb a:hover { color: var(--rosso); }

/* ---- CARD ---- */
.card {
  background: var(--bianco);
  border: 1px solid var(--grigio2);
  border-radius: 10px;
  padding: 22px 24px;
  box-shadow: 0 1px 4px rgba(0,0,0,.07);
}

/* ---- TABELLA ---- */
table { width: 100%; border-collapse: collapse; font-size: .9rem; }
thead { background: var(--grigio1); border-bottom: 2px solid var(--blu); }
th {
  padding: 10px 14px;
  text-align: left;
  font-size: .75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .6px;
  color: var(--blu);
}
td {
  padding: 12px 14px;
  border-bottom: 1px solid var(--grigio2);
  color: var(--testo);
  vertical-align: middle;
}
tbody tr:last-child td { border-bottom: none; }
tbody tr:hover td      { background: rgba(26,46,74,.03); }
.date      { font-size: .85rem; color: var(--testo2); }
.list-count { font-size: .8rem; color: var(--testo3); font-weight: 700; text-transform: uppercase; letter-spacing: .4px; margin: 0; }

/* ---- BADGE ---- */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  border-radius: 99px;
  font-size: .78rem;
  font-weight: 700;
  white-space: nowrap;
}
.badge--ok   { background: rgba(39,103,73,.10);  color: var(--verde); border: 1px solid rgba(39,103,73,.25); }
.badge--warn { background: rgba(181,136,42,.12); color: #7a5c1a;      border: 1px solid rgba(181,136,42,.30); }
.badge--err  { background: rgba(139,38,53,.09);  color: var(--rosso); border: 1px solid rgba(139,38,53,.25); }
.text--ok    { color: var(--verde); font-weight: 700; }
.text--err   { color: var(--rosso); font-weight: 700; }

/* ---- BOTTONI ---- */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: var(--raggio);
  border: 1px solid var(--grigio3);
  background: var(--bianco);
  color: var(--blu);
  font-family: 'Source Sans 3', sans-serif;
  font-size: .875rem;
  font-weight: 700;
  cursor: pointer;
  text-decoration: none;
  transition: background .15s, border-color .15s, transform .1s;
  white-space: nowrap;
}
.btn:hover    { background: var(--grigio1); border-color: var(--blu-light); transform: translateY(-1px); }
.btn:active   { transform: translateY(0); }
.btn:disabled { opacity: .4; cursor: not-allowed; transform: none; }

.btn--primary       { background: var(--blu);   border-color: var(--blu);   color: #fff; }
.btn--primary:hover { background: var(--blu-light); border-color: var(--blu-light); color: #fff; }
.btn--danger        { background: var(--rosso); border-color: var(--rosso); color: #fff; }
.btn--danger:hover  { background: #a02d3d; border-color: #a02d3d; color: #fff; }
.btn--ghost         { background: transparent; border-color: rgba(255,255,255,.35); color: rgba(255,255,255,.85); }
.btn--ghost:hover   { background: rgba(255,255,255,.10); color: #fff; transform: none; }
main .btn--ghost, .card .btn--ghost       { border-color: var(--grigio3); color: var(--blu); background: transparent; }
main .btn--ghost:hover, .card .btn--ghost:hover { background: var(--grigio1); color: var(--blu); }
.btn--sm   { padding: 5px 11px; font-size: .825rem; }
.btn--full { width: 100%; justify-content: center; }

/* ---- FORM ---- */
.form-group { display: flex; flex-direction: column; gap: 5px; margin-bottom: 14px; }
label { font-size: .85rem; font-weight: 700; color: var(--blu); }
input, select, textarea {
  padding: 9px 12px;
  border-radius: var(--raggio);
  border: 1px solid var(--grigio3);
  background: var(--bianco);
  color: var(--testo);
  font-family: 'Source Sans 3', sans-serif;
  font-size: .925rem;
  outline: none;
  width: 100%;
  transition: border-color .2s, box-shadow .2s;
}
input::placeholder { color: var(--testo3); }
input:focus, select:focus, textarea:focus {
  border-color: var(--blu-light);
  box-shadow: 0 0 0 3px rgba(46,74,110,.15);
}
.form-hint  { font-size: .78rem; color: var(--testo3); margin-top: 2px; }
.input--otp { font-size: 1.5rem; letter-spacing: 8px; text-align: center; font-weight: 700; color: var(--blu); }

/* ---- MESSAGGI ---- */
.msg         { display: flex; align-items: center; gap: 8px; padding: 10px 14px; border-radius: var(--raggio); font-size: .875rem; font-weight: 600; margin-bottom: 12px; }
.msg--success { background: rgba(39,103,73,.09);  border: 1px solid rgba(39,103,73,.25);  color: var(--verde); }
.msg--error   { background: rgba(139,38,53,.09);  border: 1px solid rgba(139,38,53,.25);  color: var(--rosso); }
p[style*="red"]   { background: rgba(139,38,53,.09) !important; padding: 10px 14px; border-radius: var(--raggio); border: 1px solid rgba(139,38,53,.25); color: var(--rosso) !important; font-weight: 600; }
p[style*="green"] { background: rgba(39,103,73,.09)  !important; padding: 10px 14px; border-radius: var(--raggio); border: 1px solid rgba(39,103,73,.25);  color: var(--verde) !important;  font-weight: 600; }

/* ---- EMPTY STATE ---- */
.empty-state        { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 40px 20px; background: var(--bianco); border: 1px dashed var(--grigio3); border-radius: 10px; gap: 8px; }
.empty-state__icon  { font-size: 2.2rem; }
.empty-state__title { font-family: 'Libre Baskerville', serif; font-size: 1.05rem; color: var(--blu); font-weight: 700; margin: 0; }
.empty-state__sub   { color: var(--testo3); font-size: .875rem; margin: 0 0 8px; }

/* ---- DETTAGLIO LIBRO ---- */
.book-detail__header  { display: flex; gap: 18px; align-items: flex-start; margin-bottom: 4px; }
.book-detail__cover   { font-size: 2.5rem; flex-shrink: 0; background: var(--grigio1); border: 1px solid var(--grigio2); border-radius: var(--raggio); width: 68px; height: 68px; display: flex; align-items: center; justify-content: center; }
.book-detail__meta h1 { font-size: 1.35rem; margin-bottom: 4px; }
.book-detail__author  { font-size: .9rem; color: var(--testo2); font-style: italic; margin: 0 0 8px; }
.book-detail__info    { display: grid; grid-template-columns: 1fr 1fr; margin: 0; }
.book-detail__info-row { display: flex; gap: 10px; padding: 9px 0; border-bottom: 1px solid var(--grigio2); }
.book-detail__info-row:nth-last-child(-n+2) { border-bottom: none; }
.book-detail__actions { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
dt { font-size: .75rem; font-weight: 700; text-transform: uppercase; letter-spacing: .4px; color: var(--testo3); min-width: 100px; flex-shrink: 0; padding-top: 2px; }
dd { margin: 0; font-size: .9rem; color: var(--testo); }

/* ---- LOGIN ---- */
.body--login {
  background-color: #111e30;
  background-image:
    radial-gradient(ellipse 700px 350px at 15% 0%, rgba(139,38,53,.18), transparent),
    radial-gradient(ellipse 600px 300px at 85% 100%, rgba(181,136,42,.12), transparent);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}
.login-wrapper     { width: 100%; max-width: 400px; display: flex; flex-direction: column; gap: 18px; }
.login-brand       { text-align: center; }
.login-brand__icon { font-size: 2.2rem; display: block; margin-bottom: 6px; }
.login-brand__name { font-family: 'Libre Baskerville', serif; font-size: 1.4rem; color: #fff; margin: 0 0 4px; }
.login-brand__sub  { font-size: .85rem; color: rgba(255,255,255,.45); margin: 0; }
.login-card        { box-shadow: 0 6px 24px rgba(0,0,0,.25); }
.login-card__header          { margin-bottom: 18px; }
.login-card__header h2       { margin-bottom: 2px; }
.login-card__header p        { font-size: .85rem; margin: 0; }
.login-form        { display: flex; flex-direction: column; }
.otp-icon          { font-size: 1.8rem; margin-bottom: 6px; }
.otp-resend        { display: flex; align-items: center; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
.otp-resend__label { font-size: .85rem; color: var(--testo2); }
.login-dev-note    { text-align: center; font-size: .78rem; color: rgba(255,255,255,.30); margin: 0; }
.login-dev-note a  { color: rgba(255,255,255,.45); }

/* ---- SCROLLBAR ---- */
::-webkit-scrollbar       { width: 7px; }
::-webkit-scrollbar-track { background: var(--grigio1); }
::-webkit-scrollbar-thumb { background: var(--grigio3); border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: var(--blu-light); }

/* ---- RESPONSIVE ---- */
@media (max-width: 680px) {
  .navbar                      { height: auto; min-height: 52px; flex-wrap: wrap; padding: 8px 14px; gap: 8px; }
  .navbar__links               { order: 3; width: 100%; padding-bottom: 4px; }
  .navbar__links a             { padding: 5px 10px; font-size: .82rem; }
  body:not(.body--login) > main { padding: 16px 14px 40px; }
  h1                            { font-size: 1.3rem; }
  .page-header                  { flex-direction: column; gap: 8px; }
  table, thead, tbody, tr, td, th { display: block; }
  thead                         { display: none; }
  tbody tr                      { background: var(--bianco); border: 1px solid var(--grigio2); border-radius: var(--raggio); margin-bottom: 10px; }
  td                            { padding: 9px 14px; display: flex; justify-content: space-between; align-items: center; border: none; border-bottom: 1px solid var(--grigio2); font-size: .875rem; }
  tbody tr td:last-child         { border-bottom: none; }
  td[data-label]::before        { content: attr(data-label); font-size: .7rem; font-weight: 700; color: var(--testo3); text-transform: uppercase; letter-spacing: .4px; flex-shrink: 0; }
  .book-detail__info             { grid-template-columns: 1fr; }
  .book-detail__info-row:nth-last-child(-n+2) { border-bottom: 1px solid var(--grigio2); }
  .book-detail__info-row:last-child           { border-bottom: none; }
  .card                          { padding: 16px; }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: .01ms !important; transition-duration: .01ms !important; }
}