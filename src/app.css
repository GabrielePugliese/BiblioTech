@import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,700;1,400&family=Source+Sans+3:wght@400;600;700&display=swap');

/* VARIABILI */
:root {
  --navy:    #1a2e4a;
  --navy-d:  #111e30;
  --navy-l:  #2e4a6e;
  --burg:    #8b2635;
  --burg-bg: rgba(139,38,53,.09);
  --burg-b:  rgba(139,38,53,.25);
  --gold:    #b5882a;
  --bg:      #f4f1eb;
  --sur:     #fff;
  --sur2:    #f9f7f3;
  --tx:      #1a1a1a;
  --txm:     #4a5568;
  --txl:     #8a97a8;
  --ok:      #276749;
  --ok-bg:   rgba(39,103,73,.09);
  --ok-b:    rgba(39,103,73,.25);
  --ln:      #ddd8cf;
  --ln2:     #c5bfb4;
  --r:       8px;
  --sh:      0 1px 3px rgba(26,46,74,.08), 0 1px 2px rgba(26,46,74,.06);
  --shm:     0 4px 12px rgba(26,46,74,.10);
  --e:       cubic-bezier(.25,.46,.45,.94);
}

/* BASE */
*, *::before, *::after { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: 'Source Sans 3', Georgia, serif;
  font-size: 15.5px;
  line-height: 1.65;
  color: var(--tx);
  background-color: var(--bg);
  background-image: radial-gradient(circle at 1px 1px, rgba(26,46,74,.03) 1px, transparent 0);
  background-size: 24px 24px;
  min-height: 100vh;
}

/* TIPOGRAFIA */
h1, h2, h3, h4 { font-family: 'Libre Baskerville', Georgia, serif; margin-top: 0; line-height: 1.3; color: var(--navy); }
h1 { font-size: 1.7rem;  font-weight: 700; }
h2 { font-size: 1.25rem; font-weight: 700; }
h3 { font-size: 1rem;    font-weight: 400; font-style: italic; color: var(--txm); }
p  { margin-top: 0; color: var(--txm); }
hr { border: none; border-top: 1px solid var(--ln); margin: 22px 0; }
a  { color: var(--navy-l); text-decoration: underline; text-underline-offset: 3px; text-decoration-color: rgba(46,74,110,.35); font-weight: 500; transition: color .2s var(--e), text-decoration-color .2s; }
a:hover { color: var(--burg); text-decoration-color: var(--burg); }

/* LAYOUT */
body:not(.body--login) > main { max-width: 960px; margin-inline: auto; padding: 28px 20px 60px; display: flex; flex-direction: column; gap: 22px; }

/* CARD */
@keyframes fi { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.card { background: var(--sur); border: 1px solid var(--ln); border-radius: 12px; padding: 24px 28px; box-shadow: var(--sh); animation: fi .3s var(--e) both; }

/* NAVBAR */
.navbar            { background: var(--navy); border-bottom: 3px solid var(--burg); padding: 0 24px; display: flex; align-items: center; gap: 24px; height: 60px; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(26,46,74,.25); }
.navbar__brand     { display: flex; align-items: center; gap: 9px; text-decoration: none; flex-shrink: 0; }
.navbar__icon      { font-size: 1.3rem; }
.navbar__title     { font-family: 'Libre Baskerville', serif; font-size: 1rem; font-weight: 700; color: #fff; white-space: nowrap; }
.navbar__links     { list-style: none; margin: 0; padding: 0; display: flex; align-items: center; gap: 2px; flex: 1; }
.navbar__links a   { display: block; padding: 8px 13px; border-radius: 5px; color: rgba(255,255,255,.75); font-size: .9rem; font-weight: 500; text-decoration: none; transition: background .18s, color .18s; }
.navbar__links a:hover   { background: rgba(255,255,255,.10); color: #fff; }
.navbar__links a.active  { background: rgba(255,255,255,.15); color: #fff; border-bottom: 2px solid var(--gold); border-radius: 5px 5px 0 0; }
.navbar__user      { display: flex; align-items: center; gap: 10px; flex-shrink: 0; margin-left: auto; }
.navbar__username  { color: rgba(255,255,255,.80); font-size: .875rem; font-weight: 500; }
.navbar__badge     { padding: 3px 9px; border-radius: 100px; font-size: .72rem; font-weight: 700; text-transform: uppercase; letter-spacing: .6px; }
.navbar__badge--admin   { background: rgba(181,136,42,.25); color: #e8c96a; border: 1px solid rgba(181,136,42,.4); }
.navbar__badge--student { background: rgba(255,255,255,.12); color: rgba(255,255,255,.85); border: 1px solid rgba(255,255,255,.2); }

/* PAGE HEADER */
.page-header    { display: flex; align-items: flex-start; justify-content: space-between; gap: 16px; padding-bottom: 4px; border-bottom: 2px solid var(--ln); flex-wrap: wrap; }
.page-header h1 { margin-bottom: 4px; }
.page-header p  { margin: 0; font-size: .9rem; }

/* BREADCRUMB */
.breadcrumb       { font-size: .875rem; }
.breadcrumb a     { color: var(--txm); text-decoration: none; font-weight: 500; transition: color .15s; }
.breadcrumb a:hover { color: var(--burg); }

/* TABELLA */
table              { width: 100%; border-collapse: collapse; font-size: .925rem; }
thead              { background: var(--sur2); border-bottom: 2px solid var(--navy); }
th                 { padding: 11px 14px; text-align: left; font-size: .78rem; font-weight: 700; text-transform: uppercase; letter-spacing: .7px; color: var(--navy); }
td                 { padding: 12px 14px; border-bottom: 1px solid var(--ln); color: var(--tx); vertical-align: middle; transition: background .15s; }
tbody tr:last-child td { border-bottom: none; }
tbody tr:hover td  { background: rgba(26,46,74,.03); }
.date              { font-size: .875rem; color: var(--txm); font-variant-numeric: tabular-nums; }
.list-count        { font-size: .875rem; color: var(--txl); font-weight: 600; margin: 0; text-transform: uppercase; letter-spacing: .5px; }

/* BADGE */
.badge        { display: inline-flex; align-items: center; gap: 4px; padding: 3px 10px; border-radius: 100px; font-size: .8rem; font-weight: 600; white-space: nowrap; }
.badge--ok    { background: var(--ok-bg);           color: var(--ok);   border: 1px solid var(--ok-b);   }
.badge--warn  { background: rgba(181,136,42,.12);   color: #7a5c1a;     border: 1px solid rgba(181,136,42,.3); }
.badge--err   { background: var(--burg-bg);         color: var(--burg); border: 1px solid var(--burg-b); }
.text--ok  { color: var(--ok);   font-weight: 600; }
.text--err { color: var(--burg); font-weight: 600; }

/* BOTTONI */
.btn           { display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 9px 18px; border-radius: var(--r); border: 1px solid var(--ln2); background: var(--sur); color: var(--navy); font-family: 'Source Sans 3', sans-serif; font-size: .9rem; font-weight: 600; cursor: pointer; text-decoration: none; transition: background .18s, border-color .18s, box-shadow .18s, transform .1s; box-shadow: var(--sh); white-space: nowrap; }
.btn:hover     { background: var(--sur2); border-color: var(--navy-l); color: var(--navy); text-decoration: none; transform: translateY(-1px); box-shadow: var(--shm); }
.btn:active    { transform: translateY(0); }
.btn:disabled  { opacity: .45; cursor: not-allowed; transform: none; box-shadow: none; }
.btn--primary        { background: var(--navy);  border-color: var(--navy-d); color: #fff; }
.btn--primary:hover  { background: var(--navy-l); border-color: var(--navy-l); color: #fff; }
.btn--danger         { background: var(--burg);  border-color: var(--burg);   color: #fff; }
.btn--danger:hover   { background: #a02d3d;       border-color: #a02d3d;       color: #fff; }
.btn--ghost          { background: transparent; border-color: rgba(255,255,255,.3); color: rgba(255,255,255,.85); box-shadow: none; }
.btn--ghost:hover    { background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.5); color: #fff; transform: none; box-shadow: none; }
main .btn--ghost, .card .btn--ghost            { border-color: var(--ln2); color: var(--navy); }
main .btn--ghost:hover, .card .btn--ghost:hover { background: var(--sur2);  color: var(--navy); }
.btn--sm   { padding: 6px 12px; font-size: .825rem; }
.btn--full { width: 100%; }

/* FORM */
.form-group  { display: flex; flex-direction: column; gap: 5px; margin-bottom: 14px; }
label        { font-size: .875rem; font-weight: 600; color: var(--navy); }
input, select, textarea { padding: 10px 13px; border-radius: var(--r); border: 1px solid var(--ln2); background: var(--sur); color: var(--tx); font-family: 'Source Sans 3', sans-serif; font-size: .95rem; transition: border-color .2s, box-shadow .2s; outline: none; width: 100%; }
input::placeholder { color: var(--txl); }
input:focus, select:focus, textarea:focus { border-color: var(--navy-l); box-shadow: 0 0 0 3px rgba(46,74,110,.15); }
.form-hint   { font-size: .8rem; color: var(--txl); margin-top: 2px; }
.input--otp  { font-size: 1.6rem; letter-spacing: 6px; text-align: center; font-weight: 600; color: var(--navy); padding: 14px; }

/* MESSAGGI */
.msg           { display: flex; align-items: flex-start; gap: 9px; padding: 11px 15px; border-radius: var(--r); font-size: .9rem; font-weight: 500; margin-bottom: 14px; animation: fi .25s var(--e) both; }
.msg--success  { background: var(--ok-bg);   border: 1px solid var(--ok-b);   color: var(--ok);   }
.msg--error    { background: var(--burg-bg); border: 1px solid var(--burg-b); color: var(--burg); }
p[style*="red"]   { background: var(--burg-bg) !important; padding: 11px 15px; border-radius: var(--r); border: 1px solid var(--burg-b); color: var(--burg) !important; font-weight: 500; }
p[style*="green"] { background: var(--ok-bg)   !important; padding: 11px 15px; border-radius: var(--r); border: 1px solid var(--ok-b);   color: var(--ok)   !important; font-weight: 500; }

/* EMPTY STATE */
.empty-state         { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 48px 24px; background: var(--sur); border: 1px dashed var(--ln2); border-radius: 12px; gap: 8px; }
.empty-state__icon   { font-size: 2.5rem; }
.empty-state__title  { font-family: 'Libre Baskerville', serif; font-size: 1.1rem; color: var(--navy); font-weight: 700; margin: 0; }
.empty-state__sub    { color: var(--txl); font-size: .9rem; margin: 0 0 8px; }

/* DETTAGLIO LIBRO */
.book-detail__header           { display: flex; gap: 20px; align-items: flex-start; margin-bottom: 4px; }
.book-detail__cover            { font-size: 3rem; flex-shrink: 0; background: var(--sur2); border: 1px solid var(--ln); border-radius: var(--r); width: 72px; height: 72px; display: flex; align-items: center; justify-content: center; }
.book-detail__meta h1          { margin-bottom: 4px; font-size: 1.45rem; }
.book-detail__author           { font-size: .95rem; color: var(--txm); margin: 0 0 8px; font-style: italic; }
.book-detail__info             { display: grid; grid-template-columns: 1fr 1fr; gap: 0; margin: 0; }
.book-detail__info-row         { display: flex; gap: 12px; padding: 10px 0; border-bottom: 1px solid var(--ln); }
.book-detail__info-row:nth-last-child(-n+2) { border-bottom: none; }
.book-detail__actions          { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; }
dt { font-size: .8rem; font-weight: 700; text-transform: uppercase; letter-spacing: .5px; color: var(--txl); min-width: 110px; flex-shrink: 0; }
dd { margin: 0; font-size: .95rem; color: var(--tx); }

/* LOGIN */
.body--login        { background-color: var(--navy-d); background-image: radial-gradient(ellipse 800px 400px at 20% 0%, rgba(139,38,53,.15), transparent), radial-gradient(ellipse 600px 400px at 80% 100%, rgba(181,136,42,.10), transparent); display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; }
.login-wrapper      { width: 100%; max-width: 420px; display: flex; flex-direction: column; gap: 20px; animation: fi .4s var(--e) both; }
.login-brand        { text-align: center; }
.login-brand__icon  { font-size: 2.5rem; display: block; margin-bottom: 8px; }
.login-brand__name  { font-family: 'Libre Baskerville', serif; font-size: 1.5rem; color: #fff; margin: 0 0 4px; }
.login-brand__sub   { font-size: .875rem; color: rgba(255,255,255,.5); margin: 0; }
.login-card         { box-shadow: 0 8px 30px rgba(26,46,74,.13); border: 1px solid rgba(255,255,255,.08); }
.login-card__header { margin-bottom: 20px; }
.login-card__header h2 { margin-bottom: 4px; }
.login-card__header p  { font-size: .875rem; margin: 0; }
.login-form         { display: flex; flex-direction: column; }
.otp-icon           { font-size: 2rem; margin-bottom: 8px; }
.otp-resend         { display: flex; align-items: center; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
.otp-resend__label  { font-size: .875rem; color: var(--txm); }
.login-dev-note     { text-align: center; font-size: .8rem; color: rgba(255,255,255,.35); margin: 0; }
.login-dev-note a   { color: rgba(255,255,255,.5); }

/* SCROLLBAR */
::-webkit-scrollbar       { width: 8px; }
::-webkit-scrollbar-track { background: var(--sur2); }
::-webkit-scrollbar-thumb { background: var(--ln2); border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: var(--navy-l); }

/* RESPONSIVE */
@media (max-width: 700px) {
  .navbar                     { padding: 0 14px; height: auto; min-height: 56px; flex-wrap: wrap; padding-block: 10px; gap: 10px; }
  .navbar__links              { order: 3; width: 100%; gap: 2px; padding-bottom: 6px; }
  .navbar__links a            { padding: 6px 10px; font-size: .85rem; }
  body:not(.body--login)>main { padding: 18px 14px 40px; }
  h1                          { font-size: 1.35rem; }
  .page-header                { flex-direction: column; gap: 10px; }
  table, thead, tbody, tr, td, th { display: block; }
  thead                       { display: none; }
  tbody tr                    { background: var(--sur); border: 1px solid var(--ln); border-radius: var(--r); margin-bottom: 10px; padding: 4px 0; box-shadow: var(--sh); }
  td                          { border: none; padding: 8px 14px; display: flex; justify-content: space-between; align-items: center; font-size: .9rem; border-bottom: 1px solid var(--ln); }
  tbody tr td:last-child      { border-bottom: none; }
  td[data-label]::before      { content: attr(data-label); font-size: .72rem; font-weight: 700; color: var(--txl); text-transform: uppercase; letter-spacing: .5px; flex-shrink: 0; }
  .book-detail__info          { grid-template-columns: 1fr; }
  .book-detail__info-row:nth-last-child(-n+2) { border-bottom: 1px solid var(--ln); }
  .book-detail__info-row:last-child           { border-bottom: none; }
  .card                       { padding: 18px 16px; }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: .01ms !important; transition-duration: .01ms !important; }
}